{"version":3,"sources":["ContactForm.js","Filter.js","Contact.js","Contacts.js","Heading.js","Notification.js","services/contacts.js","Debug.js","App.js","index.js"],"names":["ContactForm","values","addContact","handleChange","onSubmit","htmlFor","type","name","value","onChange","number","Filter","searchTerm","handleSearch","Contact","contact","handleRemove","onClick","id","Contacts","contacts","map","key","Heading","title","Notification","message","error","success","className","baseUrl","axios","get","newContact","post","then","response","data","catch","delete","changedContact","put","Debug","obj","show","JSON","stringify","App","useState","persons","setPersons","setValues","setSearchTerm","toast","setToast","useEffect","contactServices","showContacts","filter","person","toLowerCase","includes","event","target","preventDefault","newPerson","found","find","window","confirm","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ad1369a6.chunk.js","sourcesContent":["import React from \"react\";\n\nconst ContactForm = ({ values, addContact, handleChange }) => {\n  return (\n    <form onSubmit={addContact}>\n      <div>\n        <label htmlFor=\"name\">name: </label>\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={values.name}\n          onChange={handleChange}\n        />\n      </div>\n      <div>\n        <label htmlFor=\"number\">number: </label>\n        <input\n          type=\"tel\"\n          name=\"number\"\n          value={values.number}\n          onChange={handleChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default ContactForm;\n","import React from \"react\";\n\nconst Filter = ({ searchTerm, handleSearch }) => {\n  return (\n    <div>\n      <label htmlFor=\"search\">search contact: </label>\n      <input\n        type=\"search\"\n        name=\"search\"\n        value={searchTerm}\n        onChange={handleSearch}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Contact = ({ contact, handleRemove }) => {\n  return (\n    <li>\n      <span>{contact?.name}</span> <span>{contact?.number}</span>\n      <button onClick={() => handleRemove(contact.id)}>X</button>\n    </li>\n  );\n};\n\nexport default Contact;\n","import React from \"react\";\nimport Contact from \"./Contact\";\n\nconst Contacts = ({ contacts, handleRemove }) => {\n  return (\n    <ul>\n      {contacts?.map(contact => (\n        <Contact\n          key={contact?.id}\n          contact={contact}\n          handleRemove={handleRemove}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default Contacts;\n","import React from \"react\";\n\nconst Heading = ({ title }) => <h2>{title}</h2>;\n\nexport default Heading;\n","import React from \"react\";\n\nconst Notification = ({ message: { error, success } }) => {\n  return (\n    <div className=\"toast\">\n      {(error || success) && (\n        <h3 className={error ? \"error\" : \"success\"}>\n          {error ? error : success}\n        </h3>\n      )}\n    </div>\n  );\n};\n\nexport default Notification;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst create = newContact => {\n  return axios\n    .post(baseUrl, newContact)\n    .then(response => response.data)\n    .catch(error => error.response.data);\n};\n\nconst remove = id => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst update = (id, changedContact) => {\n  return axios\n    .put(`${baseUrl}/${id}`, changedContact)\n    .then(response => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update\n};\n","import React from \"react\";\n\nconst Debug = ({ obj }) => {\n  const show = JSON.stringify(obj, null, 2);\n  return <div>Form: {show}</div>;\n};\n\nexport default Debug;\n","import React, { useState, useEffect } from \"react\";\nimport ContactForm from \"./ContactForm\";\nimport Filter from \"./Filter\";\nimport Contacts from \"./Contacts\";\nimport Heading from \"./Heading\";\nimport Notification from \"./Notification\";\nimport contactServices from \"./services/contacts\";\nimport Debug from \"./Debug\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [values, setValues] = useState({ name: \"\", number: \"\" });\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [toast, setToast] = useState({\n    error: null,\n    success: null\n  });\n\n  useEffect(() => {\n    contactServices.getAll().then(response => setPersons(response.data));\n  }, []);\n\n  const handleChange = event => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSearch = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  const addContact = event => {\n    event.preventDefault();\n    const newPerson = {\n      name: values.name,\n      number: values.number\n    };\n\n    const found = persons?.find(person => person.name === newPerson.name);\n\n    if (found) {\n      if (\n        window.confirm(\n          `${values.name} is already added to phonebook, replace the old number with the new one?`\n        )\n      ) {\n        const changedContact = { ...found, number: newPerson.number };\n\n        contactServices\n          .update(found.id, changedContact)\n          .then(data => {\n            setPersons(\n              persons.map(person => (person.id === found.id ? data : person))\n            );\n            setToast({\n              ...toast,\n              success: `Successfully updated contact ${data.name}`\n            });\n            setTimeout(\n              () =>\n                setToast({\n                  error: null,\n                  success: null\n                }),\n              3000\n            );\n          })\n          .catch(error => {\n            setToast({ ...toast, error: error.message });\n            setTimeout(\n              () =>\n                setToast({\n                  error: null,\n                  success: null\n                }),\n              3000\n            );\n          });\n        setValues({ name: \"\", number: \"\" });\n      }\n    }\n\n    contactServices.create(newPerson).then(data => {\n      if (data.error) {\n        setToast({\n          ...toast,\n          error: data.error\n        });\n        setTimeout(\n          () =>\n            setToast({\n              error: null,\n              success: null\n            }),\n          3000\n        );\n      } else {\n        setPersons(persons.concat(data));\n        setToast({\n          ...toast,\n          success: `Succesfully added ${data.name} to the phonebook`\n        });\n        setTimeout(\n          () =>\n            setToast({\n              error: null,\n              success: null\n            }),\n          3000\n        );\n      }\n    });\n\n    setValues({ name: \"\", number: \"\" });\n  };\n\n  const handleRemove = id => {\n    const found = persons.find(person => person.id === id);\n    contactServices\n      .remove(id, found)\n      .then(response => {\n        setToast({\n          ...toast,\n          success: `${found.name} is successfully removed from phonebook.`\n        });\n        setTimeout(() => setToast({ error: null, success: null }), 3000);\n        return response.data;\n      })\n      .catch(error => {\n        setToast({\n          ...toast,\n          error: `${found.name} is already removed from the phonebook`\n        });\n        setTimeout(() => setToast({ error: null, success: null }), 3000);\n      });\n\n    setPersons(persons.filter(person => person.id !== id));\n  };\n\n  const showContacts = persons?.filter(person =>\n    person?.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div>\n      <Heading title=\"Phonebook\" />\n      <Filter searchTerm={searchTerm} handleSearch={handleSearch} />\n      <Notification message={toast} />\n      <ContactForm\n        values={values}\n        addContact={addContact}\n        handleChange={handleChange}\n      />\n      <Heading title=\"Numbers\" />\n      <Contacts contacts={showContacts} handleRemove={handleRemove} />\n      <Debug obj={toast} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}