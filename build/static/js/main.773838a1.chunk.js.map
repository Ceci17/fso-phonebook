{"version":3,"sources":["ContactForm.js","Filter.js","Contact.js","Contacts.js","Heading.js","Notification.js","services/contacts.js","Debug.js","App.js","index.js"],"names":["ContactForm","values","addContact","handleChange","onSubmit","htmlFor","type","name","value","onChange","number","Filter","searchTerm","handleSearch","Contact","contact","handleRemove","onClick","id","Contacts","contacts","map","key","Heading","title","Notification","message","error","success","className","baseUrl","axios","get","newContact","post","delete","changedContact","put","Debug","obj","show","JSON","stringify","App","useState","persons","setPersons","setValues","setSearchTerm","toast","setToast","useEffect","contactServices","then","response","data","showContacts","filter","person","toLowerCase","includes","event","target","preventDefault","newPerson","found","find","window","confirm","setTimeout","catch","ReactDOM","render","document","getElementById"],"mappings":"yOA8BeA,EA5BK,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,OAAQC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aACzC,OACE,0BAAMC,SAAUF,GACd,6BACE,2BAAOG,QAAQ,QAAf,UACA,2BACEC,KAAK,OACLC,KAAK,OACLC,MAAOP,EAAOM,KACdE,SAAUN,KAGd,6BACE,2BAAOE,QAAQ,UAAf,YACA,2BACEC,KAAK,MACLC,KAAK,SACLC,MAAOP,EAAOS,OACdD,SAAUN,KAGd,6BACE,4BAAQG,KAAK,UAAb,UCROK,EAdA,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,aAC5B,OACE,6BACE,2BAAOR,QAAQ,UAAf,oBACA,2BACEC,KAAK,SACLC,KAAK,SACLC,MAAOI,EACPH,SAAUI,MCCHC,EATC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aAC1B,OACE,4BACE,8BAAOD,EAAQR,MADjB,IAC8B,8BAAOQ,EAAQL,QAC3C,4BAAQO,QAAS,kBAAMD,EAAaD,EAAQG,MAA5C,OCWSC,EAdE,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,SAAUJ,EAAmB,EAAnBA,aAC5B,OACE,mCACGI,QADH,IACGA,OADH,EACGA,EAAUC,KAAI,SAAAN,GAAO,OACpB,kBAAC,EAAD,CACEO,IAAKP,EAAQG,GACbH,QAASA,EACTC,aAAcA,SCNTO,EAFC,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OAAe,4BAAKA,ICYrBC,EAZM,SAAC,GAAqC,IAAD,IAAlCC,QAAWC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,QACxC,OACE,yBAAKC,UAAU,UACXF,GAASC,IACT,wBAAIC,UAAWF,EAAQ,QAAU,WAC9BA,GAAgBC,K,gBCLrBE,EAAU,eAkBD,EAhBA,WACb,OAAOC,IAAMC,IAAIF,IAeJ,EAZA,SAAAG,GACb,OAAOF,IAAMG,KAAKJ,EAASG,IAWd,EARA,SAAAf,GACb,OAAOa,IAAMI,OAAN,UAAgBL,EAAhB,YAA2BZ,KAOrB,EAJA,SAACA,EAAIkB,GAClB,OAAOL,IAAMM,IAAN,UAAaP,EAAb,YAAwBZ,GAAMkB,ICVxBE,EALD,SAAC,GAAa,IAAXC,EAAU,EAAVA,IACTC,EAAOC,KAAKC,UAAUH,EAAK,KAAM,GACvC,OAAO,wCAAcC,ICkIRG,EA7HH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEYF,mBAAS,CAAErC,KAAM,GAAIG,OAAQ,KAFzC,mBAETT,EAFS,KAED8C,EAFC,OAGoBH,mBAAS,IAH7B,mBAGThC,EAHS,KAGGoC,EAHH,OAIUJ,mBAAS,CACjCjB,MAAO,KACPC,QAAS,OANK,mBAITqB,EAJS,KAIFC,EAJE,KAShBC,qBAAU,WACRC,IAAyBC,MAAK,SAAAC,GAAQ,OAAIR,EAAWQ,EAASC,WAC7D,IAEH,IA2FMC,EAAY,OAAGX,QAAH,IAAGA,OAAH,EAAGA,EAASY,QAAO,SAAAC,GAAM,OACzCA,EAAOnD,KAAKoD,cAAcC,SAAShD,EAAW+C,kBAGhD,OACE,6BACE,kBAAC,EAAD,CAASnC,MAAM,cACf,kBAAC,EAAD,CAAQZ,WAAYA,EAAYC,aA3Ff,SAAAgD,GACnBb,EAAca,EAAMC,OAAOtD,UA2FzB,kBAAC,EAAD,CAAckB,QAASuB,IACvB,kBAAC,EAAD,CACEhD,OAAQA,EACRC,WA3Fa,SAAA2D,GACjBA,EAAME,iBACN,IAAMC,EAAY,CAChBzD,KAAMN,EAAOM,KACbG,OAAQT,EAAOS,QAGXuD,EAAK,OAAGpB,QAAH,IAAGA,OAAH,EAAGA,EAASqB,MAAK,SAAAR,GAAM,OAAIA,EAAOnD,OAASyD,EAAUzD,QAEhE,GAAI0D,GACF,GACEE,OAAOC,QAAP,UACKnE,EAAOM,KADZ,6EAGA,CACA,IAAM6B,EAAc,eAAQ6B,EAAR,CAAevD,OAAQsD,EAAUtD,SACrD0C,EACUa,EAAM/C,GAAIkB,GACjBiB,MAAK,SAAAC,GAAQ,OACZR,EACED,EAAQxB,KAAI,SAAAqC,GAAM,OAChBA,EAAOxC,KAAO+C,EAAM/C,GAAKoC,EAASC,KAAOG,SAIjDX,EAAU,CAAExC,KAAM,GAAIG,OAAQ,WAKlC0C,EACUY,GACPX,MAAK,SAAAC,GACJR,EAAW,GAAD,mBAAKD,GAAL,CAAcS,EAASC,QACjCL,EAAS,eACJD,EADG,CAENrB,QAAQ,qBAAD,OAAuB0B,EAASC,KAAKhD,KAArC,wBAET8D,YACE,kBACEnB,EAAS,CACPvB,MAAO,KACPC,QAAS,SAEb,QAGH0C,OAAM,SAAA3C,GAAK,OACVuB,EAAS,eACJD,EADG,CAENtB,MAAOA,EAAMD,cAInBqB,EAAU,CAAExC,KAAM,GAAIG,OAAQ,MAsC1BP,aAvGe,SAAA0D,GACnBd,EAAU,eACL9C,EADI,eAEN4D,EAAMC,OAAOvD,KAAOsD,EAAMC,OAAOtD,YAsGlC,kBAAC,EAAD,CAASgB,MAAM,YACf,kBAAC,EAAD,CAAUJ,SAAUoC,EAAcxC,aAtCjB,SAAAE,GACnB,IAAM+C,EAAQpB,EAAQqB,MAAK,SAAAR,GAAM,OAAIA,EAAOxC,KAAOA,KACnDkC,EACUlC,EAAI+C,GACXZ,MAAK,SAAAC,GAMJ,OALAJ,EAAS,eACJD,EADG,CAENrB,QAAQ,GAAD,OAAKqC,EAAM1D,KAAX,+CAET8D,YAAW,kBAAMnB,EAAS,CAAEvB,MAAO,KAAMC,QAAS,SAAS,KACpD0B,EAASC,QAEjBe,OAAM,SAAA3C,GACLuB,EAAS,eACJD,EADG,CAENtB,MAAM,GAAD,OAAKsC,EAAM1D,KAAX,6CAEP8D,YAAW,kBAAMnB,EAAS,CAAEvB,MAAO,KAAMC,QAAS,SAAS,QAG/DkB,EAAWD,EAAQY,QAAO,SAAAC,GAAM,OAAIA,EAAOxC,KAAOA,SAmBhD,kBAAC,EAAD,CAAOqB,IAAKU,M,MC5HlBsB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.773838a1.chunk.js","sourcesContent":["import React from \"react\";\n\nconst ContactForm = ({ values, addContact, handleChange }) => {\n  return (\n    <form onSubmit={addContact}>\n      <div>\n        <label htmlFor=\"name\">name: </label>\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={values.name}\n          onChange={handleChange}\n        />\n      </div>\n      <div>\n        <label htmlFor=\"number\">number: </label>\n        <input\n          type=\"tel\"\n          name=\"number\"\n          value={values.number}\n          onChange={handleChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default ContactForm;\n","import React from \"react\";\n\nconst Filter = ({ searchTerm, handleSearch }) => {\n  return (\n    <div>\n      <label htmlFor=\"search\">search contact: </label>\n      <input\n        type=\"search\"\n        name=\"search\"\n        value={searchTerm}\n        onChange={handleSearch}\n      />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Contact = ({ contact, handleRemove }) => {\n  return (\n    <li>\n      <span>{contact.name}</span> <span>{contact.number}</span>\n      <button onClick={() => handleRemove(contact.id)}>X</button>\n    </li>\n  );\n};\n\nexport default Contact;\n","import React from \"react\";\nimport Contact from \"./Contact\";\n\nconst Contacts = ({ contacts, handleRemove }) => {\n  return (\n    <ul>\n      {contacts?.map(contact => (\n        <Contact\n          key={contact.id}\n          contact={contact}\n          handleRemove={handleRemove}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default Contacts;\n","import React from \"react\";\n\nconst Heading = ({ title }) => <h2>{title}</h2>;\n\nexport default Heading;\n","import React from \"react\";\n\nconst Notification = ({ message: { error, success } }) => {\n  return (\n    <div className=\"toast\">\n      {(error || success) && (\n        <h3 className={error ? \"error\" : \"success\"}>\n          {error ? error : success}\n        </h3>\n      )}\n    </div>\n  );\n};\n\nexport default Notification;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst create = newContact => {\n  return axios.post(baseUrl, newContact);\n};\n\nconst remove = id => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\n\nconst update = (id, changedContact) => {\n  return axios.put(`${baseUrl}/${id}`, changedContact);\n};\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update\n};\n","import React from \"react\";\n\nconst Debug = ({ obj }) => {\n  const show = JSON.stringify(obj, null, 2);\n  return <div>Object: {show}</div>;\n};\n\nexport default Debug;\n","import React, { useState, useEffect } from \"react\";\nimport ContactForm from \"./ContactForm\";\nimport Filter from \"./Filter\";\nimport Contacts from \"./Contacts\";\nimport Heading from \"./Heading\";\nimport Notification from \"./Notification\";\nimport contactServices from \"./services/contacts\";\nimport Debug from \"./Debug\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [values, setValues] = useState({ name: \"\", number: \"\" });\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [toast, setToast] = useState({\n    error: null,\n    success: null\n  });\n\n  useEffect(() => {\n    contactServices.getAll().then(response => setPersons(response.data));\n  }, []);\n\n  const handleChange = event => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSearch = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  const addContact = event => {\n    event.preventDefault();\n    const newPerson = {\n      name: values.name,\n      number: values.number\n    };\n\n    const found = persons?.find(person => person.name === newPerson.name);\n\n    if (found) {\n      if (\n        window.confirm(\n          `${values.name} is already added to phonebook, replace the old number with the new one?`\n        )\n      ) {\n        const changedContact = { ...found, number: newPerson.number };\n        contactServices\n          .update(found.id, changedContact)\n          .then(response =>\n            setPersons(\n              persons.map(person =>\n                person.id === found.id ? response.data : person\n              )\n            )\n          );\n        setValues({ name: \"\", number: \"\" });\n      }\n      return;\n    }\n\n    contactServices\n      .create(newPerson)\n      .then(response => {\n        setPersons([...persons, response.data]);\n        setToast({\n          ...toast,\n          success: `Succesfully added ${response.data.name} to the phonebook`\n        });\n        setTimeout(\n          () =>\n            setToast({\n              error: null,\n              success: null\n            }),\n          3000\n        );\n      })\n      .catch(error =>\n        setToast({\n          ...toast,\n          error: error.message\n        })\n      );\n\n    setValues({ name: \"\", number: \"\" });\n  };\n\n  const handleRemove = id => {\n    const found = persons.find(person => person.id === id);\n    contactServices\n      .remove(id, found)\n      .then(response => {\n        setToast({\n          ...toast,\n          success: `${found.name} is successfully removed from phonebook.`\n        });\n        setTimeout(() => setToast({ error: null, success: null }), 3000);\n        return response.data;\n      })\n      .catch(error => {\n        setToast({\n          ...toast,\n          error: `${found.name} is already removed from the phonebook`\n        });\n        setTimeout(() => setToast({ error: null, success: null }), 3000);\n      });\n\n    setPersons(persons.filter(person => person.id !== id));\n  };\n\n  const showContacts = persons?.filter(person =>\n    person.name.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div>\n      <Heading title=\"Phonebook\" />\n      <Filter searchTerm={searchTerm} handleSearch={handleSearch} />\n      <Notification message={toast} />\n      <ContactForm\n        values={values}\n        addContact={addContact}\n        handleChange={handleChange}\n      />\n      <Heading title=\"Numbers\" />\n      <Contacts contacts={showContacts} handleRemove={handleRemove} />\n      <Debug obj={toast} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}