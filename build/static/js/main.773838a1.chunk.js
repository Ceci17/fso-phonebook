(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){e.exports=t(42)},41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(17),u=t.n(c),o=t(18),l=t(7),m=t(2),i=t(5),s=function(e){var n=e.values,t=e.addContact,a=e.handleChange;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"name: "),r.a.createElement("input",{type:"text",name:"name",value:n.name,onChange:a})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"number"},"number: "),r.a.createElement("input",{type:"tel",name:"number",value:n.number,onChange:a})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},d=function(e){var n=e.searchTerm,t=e.handleSearch;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"search"},"search contact: "),r.a.createElement("input",{type:"search",name:"search",value:n,onChange:t}))},f=function(e){var n=e.contact,t=e.handleRemove;return r.a.createElement("li",null,r.a.createElement("span",null,n.name)," ",r.a.createElement("span",null,n.number),r.a.createElement("button",{onClick:function(){return t(n.id)}},"X"))},b=function(e){var n=e.contacts,t=e.handleRemove;return r.a.createElement("ul",null,null===n||void 0===n?void 0:n.map((function(e){return r.a.createElement(f,{key:e.id,contact:e,handleRemove:t})})))},h=function(e){var n=e.title;return r.a.createElement("h2",null,n)},v=function(e){var n=e.message,t=n.error,a=n.success;return r.a.createElement("div",{className:"toast"},(t||a)&&r.a.createElement("h3",{className:t?"error":"success"},t||a))},E=t(4),p=t.n(E),j="/api/persons",O=function(){return p.a.get(j)},g=function(e){return p.a.post(j,e)},k=function(e){return p.a.delete("".concat(j,"/").concat(e))},y=function(e,n){return p.a.put("".concat(j,"/").concat(e),n)},C=function(e){var n=e.obj,t=JSON.stringify(n,null,2);return r.a.createElement("div",null,"Object: ",t)},S=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)({name:"",number:""}),f=Object(i.a)(u,2),E=f[0],p=f[1],j=Object(a.useState)(""),S=Object(i.a)(j,2),w=S[0],T=S[1],N=Object(a.useState)({error:null,success:null}),R=Object(i.a)(N,2),F=R[0],J=R[1];Object(a.useEffect)((function(){O().then((function(e){return c(e.data)}))}),[]);var x=null===t||void 0===t?void 0:t.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement(h,{title:"Phonebook"}),r.a.createElement(d,{searchTerm:w,handleSearch:function(e){T(e.target.value)}}),r.a.createElement(v,{message:F}),r.a.createElement(s,{values:E,addContact:function(e){e.preventDefault();var n={name:E.name,number:E.number},a=null===t||void 0===t?void 0:t.find((function(e){return e.name===n.name}));if(a){if(window.confirm("".concat(E.name," is already added to phonebook, replace the old number with the new one?"))){var r=Object(m.a)({},a,{number:n.number});y(a.id,r).then((function(e){return c(t.map((function(n){return n.id===a.id?e.data:n})))})),p({name:"",number:""})}}else g(n).then((function(e){c([].concat(Object(o.a)(t),[e.data])),J(Object(m.a)({},F,{success:"Succesfully added ".concat(e.data.name," to the phonebook")})),setTimeout((function(){return J({error:null,success:null})}),3e3)})).catch((function(e){return J(Object(m.a)({},F,{error:e.message}))})),p({name:"",number:""})},handleChange:function(e){p(Object(m.a)({},E,Object(l.a)({},e.target.name,e.target.value)))}}),r.a.createElement(h,{title:"Numbers"}),r.a.createElement(b,{contacts:x,handleRemove:function(e){var n=t.find((function(n){return n.id===e}));k(e,n).then((function(e){return J(Object(m.a)({},F,{success:"".concat(n.name," is successfully removed from phonebook.")})),setTimeout((function(){return J({error:null,success:null})}),3e3),e.data})).catch((function(e){J(Object(m.a)({},F,{error:"".concat(n.name," is already removed from the phonebook")})),setTimeout((function(){return J({error:null,success:null})}),3e3)})),c(t.filter((function(n){return n.id!==e})))}}),r.a.createElement(C,{obj:F}))};t(41);u.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.773838a1.chunk.js.map